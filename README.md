# AWS 入門

今回はAWSの入門として、EC2インスタンスを作成し動かしながら、AWSコンソールの使い方を学んでいきます。

## AWSコンソールからEC2インスタンスを作成する

まずはAWSのコンソールにログインします。ログイン後、以下の手順でEC2インスタンスを作成します。

AWSコンソールのトップページから「EC2」を検索・選択します。
![](/images/2025-06-27-11-16-33.png)

画面遷移後、「インスタンス」セクションに移動し、「インスタンスを起動」ボタンをクリックします。
  ![](/images/2025-06-27-11-10-09.png)


「インスタンスを起動」の画面では以下の設定を行います。
- **名前**: ec2-tutorial
- **AMI**: Amazon Linux 2023を選択
- **インスタンスタイプ**: t2.microを選択 (無料利用枠の対象)
- **キーペア**
  - キーペア名: ec2-tutorial
  - キーペアのタイプ: RSA
  - プライベートキーファイル形式: .pem
  - 「キーペアを作成」をクリックし、自動でダウンロードされることを確認
- **ネットワーク設定**
  - 自分のIPからのSSHトラフィックを許可
  - インターネットからのHTTPトラフィックを許可
  - ※デバッグ情報: デフォルトVPCが存在することを前提としています。
  ![](/images/2025-06-27-11-24-56.png)

その他の設定はデフォルトのまま、「インスタンスの起動」ボタンをクリックし、インスタンスができるか確認しましょう！
「インスタンス」セクションの`ec2-tutorial`インスタンスにて、「実行中」が表示されていれば成功です。
![](/images/2025-06-27-11-29-37.png)

## EC2インスタンスにSSH接続する

次に、作成したEC2インスタンスにSSHで接続します。

まずはダウンロードしたキーペアファイル（`ec2-tutorial.pem`）のパーミッションを変更します。以下のコマンドを実行してください。

```bash
# パスはダウンロードした場所に応じて変更してください
chmod 400 ~/Downloads/ec2-tutorial.pem
```

次にSSH接続を行います。IPv4アドレスは、EC2インスタンスの詳細画面から探してみましょう。
なお、以下のコマンドは、`ec2-tutorial.pem`キーペアを使用して、`ec2-user`ユーザーで指定したIPv4アドレスのEC2インスタンスにSSH接続するという意味になります。
```bash
# パスはダウンロードした場所に応じて変更してください
ssh -i ~/Downloads/ec2-tutorial.pem ec2-user@<IPv4アドレス>
```

初回接続時には「Are you sure you want to continue connecting (yes/no)?」と聞かれるので、`yes`と入力して接続を確立します。
以下のように表示されれば、接続成功です。

![](/images/2025-06-27-11-34-50.png)

## EC2インスタンスにnginxをインストールする

EC2インスタンスにSSH接続できたので、次はインスタンスにnginxをインストールしていきます。

nginxはWebサーバーの一種で、HTTPリクエストを処理してWebページを配信するソフトウェアです。

実際の環境ではnginxの後ろにアプリケーションサーバー(PHPなど)を配置して動かすことが多いですが、今回はnginxのデフォルト設定を使って、簡単なWebサーバーを立ててみます。

以下のコマンドを実行して、nginxをインストールします。

```bash
sudo dnf install nginx -y
```

インストールが完了したら、nginxを起動します。

```bash
sudo systemctl enable nginx --now
```

この状態で、ブラウザからEC2インスタンスのIPv4アドレスに **http://<IPv4アドレス>** としてアクセスしてみてください。
以下のような画面が表示されれば成功です。

![](/images/2025-06-27-11-41-00.png)
